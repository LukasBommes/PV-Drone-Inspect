<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PV Hawk &mdash; PV Hawk  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installation" href="installation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="#" class="icon icon-home"> PV Hawk
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Quickstart</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_own_data.html">Using Your Own Data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="configure_multiple_sectors.html">Configuring Multiple Sectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="finetune_segmentation.html">Finetuning the Mask R-CNN Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="config_file_reference.html">Config File Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="output_directory.html">Output Directory Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="process_rgb_videos.html">Processing of visual RGB videos</a></li>
<li class="toctree-l1"><a class="reference internal" href="built_docker_image.html">Build the Docker Image</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="method.html">How PV Hawk Works</a></li>
<li class="toctree-l1"><a class="reference internal" href="limitations.html">Current Limitations</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html">About</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">PV Hawk</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">PV Hawk</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/LukasBommes/PV-Hawk/blob/master/docs/source/index.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="pv-hawk">
<h1>PV Hawk<a class="headerlink" href="#pv-hawk" title="Permalink to this headline"></a></h1>
<p><strong>Documentation</strong>: <a class="reference external" href="https://lukasbommes.github.io/PV-Hawk/">https://lukasbommes.github.io/PV-Hawk/</a></p>
<p><strong>Code</strong>: <a class="reference external" href="https://github.com/LukasBommes/PV-Hawk">https://github.com/LukasBommes/PV-Hawk</a></p>
<p><strong>Summary Video</strong>: <a class="reference external" href="https://youtu.be/xJDD46jmU3s">https://youtu.be/xJDD46jmU3s</a></p>
<p>PV Hawk is a computer vision pipeline for the <strong>automated inspection</strong> of large-scale <strong>photovoltaic (PV) plants</strong> by means of <strong>thermal infrared (IR) or visual RGB videos</strong> acquired by a drone.</p>
<p>After recording an IR or RGB video of a PV plant, individual video frames and the corresponding coarse GPS position (latitude, longitude, and optionally altitude) of the drone are fed into PV Hawk. PV Hawk crops each PV module from each video frame and stores the resulting IR/RGB image patches. Geocoordinates of the PV module corners are obtained and faciltate visualization of analysis results on a map. You can use the <a class="reference external" href="https://github.com/LukasBommes/PV-Hawk-Viewer">PV Hawk Viewer</a> to browse the resulting map of your PV plant, annotate extracted IR/RGB images, and perform analyses, such as defect prediction.</p>
<embed>
  <object data="high_level_overview.png" type="image/png" style="width: 100%;">
    <img src="docs/source/images/high_level_overview.png">
  </object>
</embed><p>PV Hawk implements the method described briefly in <a class="reference external" href="https://lukasbommes.github.io/PV-Hawk/method.html">How PV Hawk Works</a>. For more details see my <a class="reference external" href="https://nbn-resolving.org/urn:nbn:de:bvb:29-opus4-211816">PhD thesis</a> or the journal papers:</p>
<p>[1] L. Bommes, T. Pickel, C. Buerhop-Lutz, J. Hauch, C. Brabec, and I. Peters, “Georeferencing of photovoltaic modules from aerial infrared videos using structure-from-motion,” Progress in Photovoltaics: Research and Applications, vol. 30, no. 9, pp. 1122–1135, 2022. <a class="reference external" href="https://doi.org/10.1002/pip.3564">DOI 10.1002/pip.3564</a>. [<a class="reference external" href="https://arxiv.org/abs/2204.02733">ArXiv 2204.02733</a>]</p>
<p>[2] L. Bommes, T. Pickel, C. Buerhop-Lutz, J. Hauch, C. Brabec, and I. Peters, “Computer vision tool for detection, mapping, and fault classification of photovoltaics modules in aerial IR videos,” Progress in Photovoltaics: Research and Applications, vol. 29, no. 12, pp. 1236–1251, 2021. <a class="reference external" href="https://doi.org/10.1002/pip.3448">DOI 10.1002/pip.3448</a>. [<a class="reference external" href="https://arxiv.org/abs/2106.07314">ArXiv 2106.07314</a>]</p>
<p>You may also find our related work on PV module defect detection interesting, which uses a dataset created with PV Hawk:</p>
<p>[3] L. Bommes, M. Hoffmann, C. Buerhop-Lutz, T. Pickel, J. Hauch, C. Brabec, A. Maier, and I. Peters, “Anomaly detection in IR images of PV modules using supervised contrastive learning,” Progress in Photovoltaics: Research and Applications, vol. 30, no. 6, pp. 597–614, 2022. <a class="reference external" href="https://doi.org/10.1002/pip.3518">DOI 10.1002/pip.3518</a>. [<a class="reference external" href="https://arxiv.org/abs/2112.02922">ArXiv 2112.02922</a>]</p>
<p>PV Hawk is a command line tool written in Python. It is free of charge, open-source, and MIT licensed.</p>
<section id="examplary-results">
<h2>Examplary results<a class="headerlink" href="#examplary-results" title="Permalink to this headline"></a></h2>
<p>Shown below is a map of a PV plant with 13640 modules created by PV Hawk from an IR video with 42272 frames. The top image shows the PV module outlines. The bottom image visualizes the maximum temperature of each module, which facilitates fast detection of anomalous PV modules.</p>
<p>Note that the scope of PV Hawk is the mapping of the plant and extraction of module images. The temperature map is obtained with the <a class="reference external" href="https://github.com/LukasBommes/PV-Hawk-Viewer">PV Hawk Viewer</a>.</p>
<p>We used standard GPS (as opposed to accurate RTK-GPS) and ignored the altitude measurement. The drone trajectory of the recording has a length of 7612 meters.</p>
<embed>
  <object data="example_outputs/module_layout.png" type="image/png" style="width: 100%;">
    <img src="docs/source/images/example_outputs/module_layout.png">
  </object>
</embed><embed>
  <object data="example_outputs/mean_of_max_temps_corrected.png" type="image/png" style="width: 100%;">
    <img src="docs/source/images/example_outputs/mean_of_max_temps_corrected.png">
  </object>
</embed><p>The next image shows the 3D reconstruction of a PV plant created with PV Hawk. Red rectangles resemble PV modules and the black line corresponds to reconstructed camera positions. Coordinates of the reconstruction are <a class="reference external" href="https://en.wikipedia.org/wiki/World_Geodetic_System">WGS84 geocoordinates</a>, i.e latitude, longitude, and altitude.</p>
<embed>
  <object data="example_outputs/reconstruction.png" type="image/png" style="width: 100%;">
    <img src="docs/source/images/example_outputs/reconstruction.png">
  </object>
</embed></section>
<section id="how-to-use-pv-hawk">
<h2>How to use PV Hawk?<a class="headerlink" href="#how-to-use-pv-hawk" title="Permalink to this headline"></a></h2>
<p>Please follow the <a class="reference external" href="https://lukasbommes.github.io/PV-Hawk/installation.html">Installation</a> instructions to setup PV Hawk on your machine. Afterwards, follow the <a class="reference external" href="https://lukasbommes.github.io/PV-Hawk/tutorial.html">Tutorial</a> to get started with an exemplary video dataset. After you learned how to use PV Hawk, you can proceed to <a class="reference external" href="https://lukasbommes.github.io/PV-Hawk/using_own_data.html#using-own-data">Using Your Own Data</a> to learn how to record suitable IR or RGB videos of your own PV plant with your own camera and drone.</p>
</section>
<section id="why-is-pv-hawk-needed">
<h2>Why is PV Hawk needed?<a class="headerlink" href="#why-is-pv-hawk-needed" title="Permalink to this headline"></a></h2>
<p>PV plants contain typically around 10 percent anomalous PV modules, which are potential fire hazards and cause significant power and yield losses. Thus, to enable safe and profitable operation PV plants should be regularly inspected. A popular inspection technique is drone-based thermal IR imaging, which detects anomalous PV modules in a contectless way based on heat dissipated in defective regions of the PV module. Thermal IR imaging has been applied sucessfully to small PV systems. However, when applied to large-scale PV plants with many thousands to millions of PV modules so much video data is produced that manual sighting is economically infeasible. This is where PV Hawk comes into play for the fully automated processing of the generated videos. For some inspections, such as estimation of soiling or detection of installation errors, visual RGB videos can be useful instead of thermal IR. PV Hawk can process such RGB videos as well.</p>
</section>
<section id="project-status">
<h2>Project status<a class="headerlink" href="#project-status" title="Permalink to this headline"></a></h2>
<p>PV Hawk is a research project built during my PhD. In its current state PV Hawk should be seen more as a proof-of-concept instead of a production-grade system. Please do not expect the pipeline to work smoothly and produce best results on the first attempt. Especially the OpenSfM-based reconstruction stage can be instable and may require multiple trials with different settings until you get a good result. When using your own IR or RGB videos it is important that you carefully follow the instructions in <a class="reference external" href="https://lukasbommes.github.io/PV-Hawk/using_own_data.html#using-own-data">Using Your Own Data</a>. Furthermore, breaking changes to the configuration file specification and structure of the input and output files are possible.</p>
</section>
<section id="who-are-the-target-audiences">
<h2>Who are the target audiences?<a class="headerlink" href="#who-are-the-target-audiences" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Researchers who want to assemble large-scale IR/RGB image datasets of PV modules, for instance, to develop machine learning algorithms for defect detection, or power prediction.</p></li>
<li><p>Companies or individuals who want to inspect their own PV plants or want to offer PV plant inspection as a service.</p></li>
</ul>
</section>
<section id="what-do-you-need-to-run-pv-hawk">
<h2>What do you need to run PV Hawk?<a class="headerlink" href="#what-do-you-need-to-run-pv-hawk" title="Permalink to this headline"></a></h2>
<p>PV Hawk should be installed on a sufficiently powerful workstation with Ubuntu 18.04 or newer and CUDA-compatible GPU. We developed and tested PV Hawk on a machine with Ubuntu 20.04 LTS, Intel Core i9-9900K, 64GB of DDR4 RAM, an SSD and a GeForce RTX 2080 Ti. Furthermore, you need a drone and a thermal IR or visual RGB camera. Details on this are provided in <a class="reference external" href="https://lukasbommes.github.io/PV-Hawk/using_own_data.html#hardware-setup">Hardware setup</a>.</p>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Quickstart</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#step-1-fullfill-prerequisites">Step 1: Fullfill prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#step-2-download-source-code">Step 2: Download source code</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#step-3-download-mask-r-cnn-weights">Step 3: Download Mask R-CNN weights</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#step-4-pull-docker-image">Step 4: Pull Docker image</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#step-5-test-the-installation">Step 5: Test the installation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#step-1-prepare-the-working-directory">Step 1: Prepare the working directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#step-2-download-the-example-dataset">Step 2: Download the example dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#step-3-create-a-config-file">Step 3: Create a config file</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#step-4-run-the-docker-container">Step 4: Run the Docker container</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#step-5-run-the-pipeline">Step 5: Run the pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#step-6-visualize-results">Step 6: Visualize results</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="using_own_data.html">Using Your Own Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="using_own_data.html#hardware-setup">Hardware setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="using_own_data.html#camera-calibration">Camera calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="using_own_data.html#video-recording">Video recording</a></li>
<li class="toctree-l2"><a class="reference internal" href="using_own_data.html#dataset-creation-from-videos">Dataset creation from videos</a></li>
</ul>
</li>
</ul>
</div>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Advanced</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="configure_multiple_sectors.html">Configuring Multiple Sectors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="configure_multiple_sectors.html#difference-between-sectors-and-clusters">Difference between sectors and clusters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="finetune_segmentation.html">Finetuning the Mask R-CNN Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="config_file_reference.html">Config File Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="config_file_reference.html#general">General</a></li>
<li class="toctree-l2"><a class="reference internal" href="config_file_reference.html#tasks">Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="config_file_reference.html#task-order">Task Order</a></li>
<li class="toctree-l2"><a class="reference internal" href="config_file_reference.html#settings">Settings</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="output_directory.html">Output Directory Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="process_rgb_videos.html">Processing of visual RGB videos</a></li>
<li class="toctree-l1"><a class="reference internal" href="built_docker_image.html">Build the Docker Image</a></li>
</ul>
</div>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="method.html">How PV Hawk Works</a></li>
<li class="toctree-l1"><a class="reference internal" href="limitations.html">Current Limitations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="limitations.html#plant-layouts">Plant layouts</a></li>
<li class="toctree-l2"><a class="reference internal" href="limitations.html#opensfm-reconstruction-failures">OpenSfM reconstruction failures</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#pv-module-segmentation">PV module segmentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#use-of-visual-videos-in-addition-to-ir-videos">Use of visual videos in addition to IR videos</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#extension-to-el-pl-imaging">Extension to EL/PL imaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#scaling-to-very-large-plants">Scaling to very large plants</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="about.html">About</a><ul>
<li class="toctree-l2"><a class="reference internal" href="about.html#contributors">Contributors</a></li>
<li class="toctree-l2"><a class="reference internal" href="about.html#acknowledgments">Acknowledgments</a></li>
<li class="toctree-l2"><a class="reference internal" href="about.html#license">License</a></li>
<li class="toctree-l2"><a class="reference internal" href="about.html#citation">Citation</a></li>
</ul>
</li>
</ul>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="installation.html" class="btn btn-neutral float-right" title="Installation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Lukas Bommes.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>